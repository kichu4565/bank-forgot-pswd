<div class="forgot-password-container">
    <h2>Forgot Password</h2>
  
    <!-- Step 1: Account Number -->
    <form [formGroup]="forgotForm">
      <div *ngIf="!tokenGenerated">
        <label for="accountNumber">Enter Your Account Number:</label>
        <input type="text" id="accountNumber" formControlName="accNo" placeholder="Account Number"/>
        <div class="error" *ngIf="accNo?.invalid && (accNo?.dirty || accNo?.touched)">
          <p *ngIf="accNo?.errors?.['required']">Account number is required.</p>
          <p *ngIf="accNo?.errors?.['pattern']">Account number must be exactly 10 digits.</p>
        </div>
  
        <button type="button" [disabled]="accNo?.invalid" (click)="generateToken()">
          Generate Token </button>
        <p class="error" *ngIf="errorMessage">{{ errorMessage }}</p>
      </div>
  
      <!-- ----------------------- -->
      <div *ngIf="tokenGenerated" class="token-section">
        <p class="token-display">Generated Token: <strong>{{ token }}</strong></p>
  
        <label for="tokenInput">Enter Token:</label>
        <input type="text" id="tokenInput" formControlName="enteredToken" placeholder="Enter Token" />
  
        <label for="newPassword">New Password:</label>
        <input type="password" id="newPassword" formControlName="newPass" placeholder="New Password" />
        <div class="error" *ngIf="newPass?.invalid && (newPass?.dirty || newPass?.touched)">
          <p *ngIf="newPass?.errors?.['required']">New password is required.</p>
          <p *ngIf="newPass?.errors?.['minlength']">Password must be at least 8 characters.</p>
        </div>
  
        <label for="confirmPassword">Confirm Password:</label>
        <input type="password" id="confirmPassword" formControlName="confirmPass" placeholder="Confirm Password"/>
        <div class="error" *ngIf="confirmPass?.invalid && (confirmPass?.dirty || confirmPass?.touched)">
          <p *ngIf="confirmPass?.errors?.['required']">Please confirm your password.</p>
          <p *ngIf="confirmPass?.errors?.['minlength']">Password must be at least 8 characters.</p>
        </div>
  
        <button type="button" [disabled]="forgotForm.invalid" (click)="resetPassword()"> Reset Password</button>
        <button type="button" class="back-btn" (click)="goToLogin()">Back to Login</button>
        <p class="error" *ngIf="errorMessage">{{ errorMessage }}</p>
        <p class="success" *ngIf="successMessage">{{ successMessage }}</p>
      </div>
    </form>
  </div>
  